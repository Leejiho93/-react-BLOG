{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.81785d9af98336c3c821.hot-update.js","sources":["webpack:///./pages/login.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport { Form, Button, Input } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LOG_IN_REQUEST } from '../reducers/user';\r\nimport Router from 'next/router';\r\n\r\nconst Login = () => {\r\n    const layout = {\r\n        labelCol: {\r\n            span: 2,\r\n        },\r\n        wrapperCol: {\r\n            span: 16,\r\n        },\r\n    };\r\n\r\n    const tailLayout = {\r\n        wrapperCol: {\r\n            offset: 4,\r\n            span: 16,\r\n        },\r\n    };\r\n\r\n    const [id, setId] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const { isLoggingIn, me } = useSelector(state => state.user);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (me) {\r\n            Router.push('/');\r\n        }\r\n    }, [me && me.id])\r\n\r\n\r\n    const onFinishLogin = useCallback(() => {\r\n        console.log({\r\n            id,\r\n            password\r\n        })\r\n\r\n        return dispatch({\r\n            type: LOG_IN_REQUEST,\r\n            data: {\r\n                id,\r\n                password\r\n            }\r\n        })\r\n    }, [id, password])\r\n\r\n    const onChangeId = (e) => {\r\n        setId(e.target.value);\r\n    }\r\n\r\n    const onChangePassword = (e) => {\r\n        setPassword(e.target.value);\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <Form \r\n            style={{\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto'}}\r\n            {...layout}\r\n            onFinish={onFinishLogin}>\r\n                <Form.Item\r\n                    label=\"아이디\"\r\n                    name=\"id\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '아이디를 입력해주세요!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input value={id} onChange={onChangeId} style={{ width: '60%' }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"비밀번호\"\r\n                    name=\"password\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '비밀번호를 입력해주세요!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input.Password value={password} onChange={onChangePassword} style={{ width: '60%' }} />\r\n                </Form.Item>\r\n                <Form.Item\r\n                {...tailLayout}\r\n                >\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={isLoggingIn}>\r\n                        로그인\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AASA;AACA;AACA;AACA;AAFA;AADA;AACA;AAXA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAmBA;AAAA;AAnBA;AAAA;AACA;AAoBA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AAFA;AADA;AAKA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAEA;AACA;AAFA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAEA;AACA;AAFA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}